// Left 4 Dead 2 Server Configuration for lilnas.io
// 8+ Player Support Configuration

// Basic server settings
hostname "lilnas.io"
sv_consistency 0                // Allow custom content
sv_cheats 1                    // Disable cheats for production
sv_lan 0                       // Internet server
sv_region 1                    // West Coast USA
sv_steamgroup ""               // Remove steam group restrictions
sv_steamgroup_exclusive 0      // Allow non-group members

// Essential 8+ player settings
sv_maxplayers 8                // Max players
sv_visiblemaxplayers 8         // Visible player count
sv_removehumanlimit 1          // Remove human player limits
sv_force_unreserved 1          // Force unreserved slots (L4DToolz)

// Survivor and infected limits (requires SourceMod)
sm_cvar survivor_limit 8       // 8 survivors
sm_cvar z_max_player_zombies 8  // 8 special infected for versus
sm_cvar z_minion_limit 8       // Increase minion limit
sm_cvar z_survivor_limit 8     // Alternate survivor limit cvar

// Network settings optimized for 8 players
sv_maxcmdrate 100              // Max client command rate
sv_maxupdaterate 100           // Max server update rate
sv_mincmdrate 30               // Min client command rate
sv_minupdaterate 30            // Min server update rate
sv_minrate 50000               // Min client rate (increased)
sv_maxrate 100000              // Max client rate
net_splitpacket_maxrate 100000 // Split packet rate (increased)
net_maxcleartime 0.001         // Network optimization
sv_client_min_interp_ratio 0   // Allow clients to set interp
sv_client_max_interp_ratio 2   // Max interp ratio

// Game settings
mp_disable_autokick 1          // Disable AFK kick
sv_allow_lobby_connect_only 0  // Allow direct connections
sv_gametypes "coop,versus,survival,scavenge"
mp_gamemode "coop"             // Default game mode
director_afk_timeout 45        // AFK timeout before bot takeover

// Bot settings for 8 players
sb_all_bot_game 1              // Allow all-bot games
sb_add_for_human_death 0       // Don't add bots when humans die
allow_all_bot_survivor_team 1  // Allow bot survivor teams
sv_hosting_lobby 0             // Disable lobby hosting

// Performance settings
fps_max 0                      // Uncap server FPS
sv_unlag 1                     // Enable lag compensation
sv_maxunlag 1.0                // Max lag compensation
nb_update_frequency 0.015      // Bot update frequency
sv_hibernate_when_empty 0      // Don't hibernate
sv_hibernate_postgame_delay 20 // Delay before hibernation

// Voting settings
sv_vote_enabled 1              // Enable voting
sv_vote_kick_ban_duration 5    // Vote kick ban duration
sv_vote_creation_timer 30      // Time between votes
sv_vote_failure_timer 30       // Time after failed vote

// Communication settings
sv_voiceenable 1               // Enable voice chat
sv_alltalk 0                   // Team-only voice chat

// Logging
log on                         // Enable logging
sv_logbans 1                   // Log bans
sv_logecho 1                   // Echo log to console
sv_logfile 1                   // Log to file
sv_log_onefile 0               // Separate log files

// Additional settings for stability
sv_pausable 0                  // Allow pause
sv_pure 0                      // Disable pure server
sv_pure_kick_clients 0         // Don't kick for pure violations
mp_autoteambalance 0           // Disable auto team balance
vs_max_team_switches 99        // Allow team switching

// Exec additional configs if they exist
exec banned_user.cfg
exec banned_ip.cfg
